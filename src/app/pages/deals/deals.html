<div class="relative flex min-h-screen w-full flex-col bg-gradient-to-br from-background-light via-primary/10 to-accent/5">
  <app-header />

  <main class="flex-grow">
    <!-- Hero Section -->
    <section class="relative bg-gradient-to-r from-secondary via-accent to-mahogany py-16 text-white">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="text-center">
          <h1 class="text-4xl font-black tracking-tight md:text-5xl">Exclusive Travel Deals</h1>
          <p class="mt-4 text-lg text-white/90">Save big on flights, hotels, and vacation packages</p>
        </div>
      </div>
    </section>

    <!-- Filter Section -->
    <section class="border-b border-accent/20 bg-white shadow-sm">
      <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <div class="flex flex-wrap items-center justify-center gap-4">
          <button
            (click)="selectCategory('all')"
            [class.bg-primary]="selectedCategory === 'all'"
            [class.text-mahogany]="selectedCategory === 'all'"
            [class.bg-gray-100]="selectedCategory !== 'all'"
            [class.text-text-muted-light]="selectedCategory !== 'all'"
            class="rounded-lg px-6 py-2.5 text-sm font-bold transition-all duration-200 hover:shadow-md">
            All Deals
          </button>
          <button
            (click)="selectCategory('flight')"
            [class.bg-primary]="selectedCategory === 'flight'"
            [class.text-mahogany]="selectedCategory === 'flight'"
            [class.bg-gray-100]="selectedCategory !== 'flight'"
            [class.text-text-muted-light]="selectedCategory !== 'flight'"
            class="rounded-lg px-6 py-2.5 text-sm font-bold transition-all duration-200 hover:shadow-md">
            <span class="material-symbols-outlined text-base align-middle">flight</span>
            Flights
          </button>
          <button
            (click)="selectCategory('hotel')"
            [class.bg-primary]="selectedCategory === 'hotel'"
            [class.text-mahogany]="selectedCategory === 'hotel'"
            [class.bg-gray-100]="selectedCategory !== 'hotel'"
            [class.text-text-muted-light]="selectedCategory !== 'hotel'"
            class="rounded-lg px-6 py-2.5 text-sm font-bold transition-all duration-200 hover:shadow-md">
            <span class="material-symbols-outlined text-base align-middle">hotel</span>
            Hotels
          </button>
          <button
            (click)="selectCategory('package')"
            [class.bg-primary]="selectedCategory === 'package'"
            [class.text-mahogany]="selectedCategory === 'package'"
            [class.bg-gray-100]="selectedCategory !== 'package'"
            [class.text-text-muted-light]="selectedCategory !== 'package'"
            class="rounded-lg px-6 py-2.5 text-sm font-bold transition-all duration-200 hover:shadow-md">
            <span class="material-symbols-outlined text-base align-middle">card_travel</span>
            Packages
          </button>
        </div>
      </div>
    </section>

    <!-- Deals Grid -->
    <section class="py-12">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
          @for (deal of filteredDeals; track deal.id) {
            <div class="group overflow-hidden rounded-xl border border-accent/20 bg-white shadow-md transition-all duration-300 hover:shadow-xl hover:-translate-y-1">
              <!-- Image -->
              <div class="relative overflow-hidden">
                <img
                  [src]="deal.imageUrl"
                  [alt]="deal.title"
                  class="h-56 w-full object-cover transition-transform duration-300 group-hover:scale-110">
                <div class="absolute top-3 right-3 rounded-full bg-secondary px-3 py-1 text-xs font-bold text-white shadow-lg">
                  {{ deal.discount }}
                </div>
                <div class="absolute top-3 left-3 rounded-full bg-primary px-3 py-1 text-xs font-bold text-mahogany shadow-lg">
                  {{ deal.badge }}
                </div>
              </div>

              <!-- Content -->
              <div class="p-5">
                <h3 class="text-xl font-bold text-text-light">{{ deal.title }}</h3>
                <p class="mt-1 flex items-center text-sm text-text-muted-light">
                  <span class="material-symbols-outlined text-base mr-1">location_on</span>
                  {{ deal.destination }}
                </p>
                <p class="mt-3 text-sm text-text-muted-light line-clamp-2">{{ deal.description }}</p>

                <!-- Price -->
                <div class="mt-4 flex items-baseline gap-2">
                  <span class="text-2xl font-bold text-secondary">\${{ deal.discountedPrice }}</span>
                  <span class="text-sm text-text-muted-light line-through">\${{ deal.originalPrice }}</span>
                </div>

                <!-- Valid Until -->
                <p class="mt-2 text-xs text-text-muted-light">
                  Valid until {{ deal.validUntil }}
                </p>

                <!-- CTA Button -->
                <button class="mt-4 w-full rounded-lg bg-accent px-4 py-3 text-sm font-bold text-white transition-all duration-200 hover:bg-accent/90 hover:shadow-lg">
                  View Deal
                </button>
              </div>
            </div>
          }
        </div>

        @if (filteredDeals.length === 0) {
          <div class="py-16 text-center">
            <span class="material-symbols-outlined text-6xl text-text-muted-light">travel_explore</span>
            <p class="mt-4 text-lg text-text-muted-light">No deals found in this category</p>
          </div>
        }
      </div>
    </section>

    <!-- Newsletter Section -->
    <section class="bg-gradient-to-r from-secondary via-accent to-mahogany py-16">
      <div class="mx-auto flex max-w-2xl flex-col items-center px-4 text-center sm:px-6 lg:px-8">
        <h2 class="text-3xl font-bold tracking-tight text-white">Never Miss a Deal!</h2>
        <p class="mt-2 text-white/90">Subscribe to get exclusive deals and offers delivered to your inbox</p>
        <form class="mt-6 flex w-full max-w-md gap-2">
          <input
            class="w-full rounded-lg border-white/30 bg-white/20 px-4 text-sm text-white placeholder-white/70 backdrop-blur-sm focus:border-white focus:ring-white shadow-lg"
            placeholder="Enter your email"
            type="email"/>
          <button
            class="flex h-11 items-center justify-center rounded-lg bg-primary px-6 text-sm font-bold text-mahogany transition-all duration-200 hover:bg-primary/90 hover:shadow-xl"
            type="submit">
            Subscribe
          </button>
        </form>
      </div>
    </section>
  </main>

  <app-footer />
</div>
